
<html>

<head>

  <meta http-equiv="Content-Security-Policy"
  content="default-src * 'self' 'unsafe-inline' data: gap: 'unsafe-eval';
  style-src * 'self' 'unsafe-inline';
  connect-src * ;
  script-src * 'self' 'unsafe-inline';
  media-src *">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" type="text/css" href="css/ionic.css">
  <script type="text/javascript" src="js/jquery.js"></script>
  <script type="text/javascript" src="js/jquery.min.js"></script>
  <script type="text/javascript" src="js/config.js"></script>
   <script src="Media.js"></script>
  <script type="text/javascript">


  document.addEventListener("deviceready", onDeviceReady, false);
  function onDeviceReady() {
      alert(Media);
  }

  // Record audio
//
function recordAudio() {
    var src = "recording.mp3";
    var mediaRec = new Media(src,
        // success callback
        function() {
            alert("recordAudio():Audio Success");
        },

        // error callback
        function(err) {
            alert("recordAudio():Audio Error: "+ err.code);
        });

    // Record audio
    mediaRec.startRecord();
}

function captureSuccess(s) {
    console.log("Success");
    var a="<audio controls>"
    	a += "<source src='" + src.fullPath + "' type='video/mp4'>";
    a += "</audio>";
    document.querySelector("#audioArea").innerHTML = a;
}

    </script>
  </head>

  <body>
    <div id="navigation" class="topnav" style="margin-bottom:1px;"></div>

    <form id="myForm">
      <div id="list" class="list">
        <div data-role="page" id="page">
    			<div data-role="content" style="padding: 15px">
					<a href="#" data-role="button" onclick="recordAudio()">audio</a>
					<div id="audioArea" onclick="playMP3()"></div>
				</div>
    		</div>


      </div>

      <div class="item">

      </div>
      <input type="hidden" id="status" value=""/>
      <input type="hidden" id="code" value=""/>
    </form>
  </body>

  </html>
